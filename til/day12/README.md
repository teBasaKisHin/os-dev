# 割り込みハンドラの作成

割り込んだ時に実行する関数を作成する．
今回の場合はキーボードやマウスに変化が起きたときにそれを画面に表示する．

## 割り込み終了後の処理

割り込み処理終了後の処理にはRET命令が使えずIRETD命令を使わないといけない．
この命令はCではかけずアセンブラで書かないといけない

## CALL命令

ファイル上部にあるEXTERN宣言した関数を呼び出すことができる．

## STI実行

この命令を実行するとIF（割り込み許可フラグ）が1になり，割り込みを受け付けるようになる．

これらの設定をしてもキーボードは割り込みができるが，マウスはできない

# PICの見張りを再開する

割り込みが起きたあと何もしなかったらPICは見張りを再開してくれない．
再開するには`OCW2`に`0x60 + IRQ番号`をoutする

# 割り込み処理で思い処理をしない

割り込み処理ではグラフィック描写などの重い処理をしない方がいい，割り込み処理をしている間は他の処理が行えないためだ．
そのため，必要かつ省略できるなら外部の関数を使った方がいい．

# FIFOバッファ

PICからの割り込みを受け取り処理を行う．
しかし，PICから大量の割り込み処理が来る．
CPUは割り込み処理を大量に行えないため，処理しきれないものは一旦バッファと呼ばれるものに置く．

